# ═══════════════════════════════════════════════════════════════
# newsletter.config.yaml — Single source of truth
#
# All configurable settings for the newsletter live here.
# Both the Python backend and the Node.js email-service read
# from this file (via sync-config / config.py).
#
# Secrets (API keys) should NEVER go here — use .env files
# for local dev and GitHub Secrets for CI/CD.
# See the README for details.
# ═══════════════════════════════════════════════════════════════

# ── Newsletter identity ──────────────────────────────────────
newsletter:
  title: "每日简报"
  tagline: "为 {recipientName} 精心策划的晨间资讯"

# ── Recipient ────────────────────────────────────────────────
# Override per-environment with RECIPIENT_EMAIL / RECIPIENT_NAME
recipient:
  name: "Ziyi"
  email: "you@example.com"      # placeholder — set in .env

# ── Schedule ─────────────────────────────────────────────────
schedule:
  timezone: "America/Los_Angeles"
  # GitHub Actions cron runs in UTC.  16:00 UTC = 8 AM PST / 9 AM PDT
  cronUtcHour: 16

# ── Weather (Open-Meteo — free, no API key) ──────────────────
weather:
  latitude: 37.3688
  longitude: -122.0363
  location: "圣尼维尔，加州"       # display name in Chinese

# ── News (RSS feeds) ────────────────────────────────────────
news:
  maxItems: 5
  feeds:
    - "https://rss.nytimes.com/services/xml/rss/nyt/World.xml"
    - "https://feeds.npr.org/1001/rss.xml"
    - "https://www.aljazeera.com/xml/rss/all.xml"
    - "https://www.theguardian.com/world/rss"
    - "https://feeds.bbci.co.uk/news/world/rss.xml"

# ── Stocks (yfinance — free, no API key) ────────────────────
stocks:
  symbols:
    - QQQ
    - VOO
    - GLD
    - SLV
    - GOOGL
    - NVDA
  # Display names (Chinese) for each symbol
  names:
    QQQ: "纳斯达克100 ETF"
    VOO: "标普500 ETF"
    GLD: "黄金 ETF"
    SLV: "白银 ETF"
    TSLA: "特斯拉"
    NVDA: "英伟达"
    AAPL: "苹果公司"
    GOOGL: "谷歌母公司"
    MSFT: "微软公司"
    AMZN: "亚马逊"
    META: "Meta"
    BRK-B: "伯克希尔"
    TSM: "台积电"
    V: "Visa"

# ── Hacker News ──────────────────────────────────────────────
hackerNews:
  maxStories: 5

# ── GitHub Trending (filtered by language) ───────────────────
githubTrending:
  languages: [python, go, ""]   # "" = overall trending (all languages)
  maxPerLanguage: 3

# ── arXiv Paper Highlights (AI-summarised via Gemini) ────────
# GEMINI_API_KEY must be set in .env or GitHub Secrets
arxiv:
  geminiModel: "gemini-3-flash-preview"   # primary model; falls back to 2.5-flash → 2.5-flash-lite
  queries:
    - query: "cat:cs.CL AND abs:LLM"
      label: "LLM"
      maxResults: 3
    - query: "cat:cs.DC AND abs:HPC"
      label: "HPC"
      maxResults: 2

# ── Exchange Rates (via yfinance) ────────────────────────────
exchangeRates:
  pairs:
    - "USD/CNY"
  names:
    "USD/CNY": "美元/人民币"

# ── Sections (order matters — controls email layout) ─────────
sections:
  - id: header
    label: "Masthead / Header"
  - id: weather
    label: "Weather & Astronomy"
  - id: top-news
    label: "Top 5 News"
  - id: hacker-news
    label: "Hacker News Top Stories"
  - id: github-trending
    label: "GitHub Trending Repos"
  - id: arxiv
    label: "arXiv Paper Highlights"
  - id: stocks
    label: "Market Snapshot"
  - id: exchange-rates
    label: "Exchange Rates"
  - id: custom-sections
    label: "Custom / Personal Sections"
  - id: footer
    label: "Footer"
  # ── Add new sections below ──
  # - id: calendar
  #   label: "Today's Calendar"

# ── gRPC (internal, rarely changed) ─────────────────────────
grpc:
  port: 50051

# ── Secrets reference (NOT stored here) ──────────────────────
# These are documented for clarity — actual values go in .env
# or GitHub Secrets.
#
#   RESEND_API_KEY      — API key from https://resend.com
#   RECIPIENT_EMAIL     — where the newsletter is delivered
#   RECIPIENT_NAME      — name shown in the email greeting
